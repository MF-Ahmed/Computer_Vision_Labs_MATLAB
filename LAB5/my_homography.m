
function [H] = my_homography(X1,X2)

A=zeros(8,9);



X_1(1,:)= [X1(1) X1(5) X1(9)];
X_2(1,:)= [X1(2) X1(6) X1(10)];
X_3(1,:)= [X1(3) X1(7) X1(11)];
X_4(1,:)= [X1(4) X1(8) X1(12)];

X_1p(1,:)= [X2(1) X2(5) X2(9)];
X_2p(1,:)= [X2(2) X2(6) X2(10)];
X_3p(1,:)= [X2(3) X2(7) X2(11)];
X_4p(1,:)= [X2(4) X2(8) X2(12)];


A(1,:) = [0 0 0 -X2(9)*X_1 X2(5)*X_1];
A(2,:) = [ X2(9)*X_1 0 0 0 -X2(1)*X_1];

A(3,:) = [0 0 0 -X2(10)*X_2 X2(6)*X_2];
A(4,:) = [ X2(10)*X_2 0 0 0 -X2(2)*X_2];

A(5,:) = [0 0 0 -X2(11)*X_3 X2(7)*X_3];
A(6,:) = [ X2(11)*X_3 0 0 0 -X2(3)*X_3];

A(7,:) = [0 0 0 -X2(12)*X_4 X2(8)*X_4];
A(8,:) = [ X2(12)*X_4 0 0 0 -X2(4)*X_4];

% h=null(A);   % find Null Vactor H Corresponing to the Null Space of A
% H=reshape(h,3,3);  % Reshape
[U,D,V]=svd(A,0); 
H=reshape(V(:,9),3,3);


end